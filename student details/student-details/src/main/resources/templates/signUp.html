<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sign up</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="/filesCSS/auth/signUp.css" type="text/css">
</head>
<body>
<div class="container">
    <div class="row justify-content-center">
        <div class="col-12 col-sm-8 col-md-6 col-xl-4">
            <div class="card shadow-lg mt-5">
                <div class="card-header">Sign up</div>
                <div class="card-body rounded-5">
                    <form th:action="@{/signup}" method="post" th:object="${studentDetails}" novalidate>

                        <div th:if="${errorMessage}" class="alert alert-danger">
                            <p th:text="${errorMessage}"></p>
                        </div>

                        <!-- Name -->
                        <div class="form-floating mb-3">
                            <input type="text" class="dtlBtn form-control"
                                   id="name" th:field="*{studentName}"
                                   pattern="^[A-Za-z\s]{2,50}$"
                                   title="Only letters and spaces, 2 to 50 characters"
                                   autocomplete="off"
                                   required minlength="2" maxlength="50" />
                            <label for="name">Name</label>
                            <div class="text-danger small"
                                 th:if="${#fields.hasErrors('studentName')}"
                                 th:errors="*{studentName}"></div>
                        </div>

                        <!-- Email -->
                        <div class="form-floating mb-3">
                            <input type="email" class="dtlBtn form-control"
                                   id="email" th:field="*{studentEmailId}"
                                   title="Enter a valid email address"
                                   autocomplete="off"
                                   required />
                            <label for="email">Email</label>
                            <div class="text-danger small"
                                 th:if="${#fields.hasErrors('studentEmailId')}"
                                 th:errors="*{studentEmailId}"></div>
                        </div>

                        <!-- Contact No -->
                        <div class="form-floating mb-3">
                            <input type="tel" class="dtlBtn form-control"
                                   id="contact_no" th:field="*{studentContactNo}"
                                   pattern="^[6-9]\d{9}$"
                                   title="10-digit number starting with 6-9"
                                   autocomplete="off"
                                   required />
                            <label for="contact_no">Contact No</label>
                            <div class="text-danger small"
                                 th:if="${#fields.hasErrors('studentContactNo')}"
                                 th:errors="*{studentContactNo}"></div>
                        </div>

                        <!-- DOB -->
                        <div class="form-floating mb-3">
                            <input type="date" class="dtlBtn form-control"
                                   id="dob" th:field="*{studentDOB}"
                                   title="Select your date of birth"
                                   autocomplete="off"
                                   required />
                            <label for="dob">DOB</label>
                            <div class="text-danger small"
                                 th:if="${#fields.hasErrors('studentDOB')}"
                                 th:errors="*{studentDOB}"></div>
                        </div>

                        <!-- Role -->
                        <div class="form-floating mb-3 ">
                            <select class="dtlBtn form-select text-start mb-3 p-2" id="role" th:field="*{role}" required>
                                <option value=""> Role</option>
                                <option value="Admin">Admin</option>
                                <option value="Student">Student</option>
                            </select>
<!--                            <label for="role">Role</label>-->



                            <div class="text-danger small"
                                 th:if="${#fields.hasErrors('role')}"
                                 th:errors="*{role}"></div>
                        </div>

                        <!-- Password -->
                        <div class="form-floating mb-3">
                            <input type="password" class="dtlBtn form-control"
                                   id="pass_word" th:field="*{studentPassword}"
                                   minlength="8" maxlength="50"
                                   title="Password must be 8-50 characters"
                                   autocomplete="off"
                                   required />
                            <label for="pass_word">Password</label>
                            <div class="text-danger small"
                                 th:if="${#fields.hasErrors('studentPassword')}"
                                 th:errors="*{studentPassword}"></div>
                        </div>

                        <!-- Submit -->
                        <div class="d-grid">
                            <button class="sign_up_btn btn btn-primary" type="submit">
                                Register
                            </button>
                        </div>

                        <!-- Login redirect -->
                        <div class="mt-2">
                            <p>Already have an account?
                                <a th:href="@{/login}">Log in</a>
                            </p>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="/filesJS/auth/signUp.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"></script>
</body>
</html>
